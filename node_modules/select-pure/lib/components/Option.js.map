{"version":3,"file":"Option.js","sourceRoot":"","sources":["../../src/components/Option.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,MAAM,kCAAkC,CAAC;AACjE,OAAO,EAAE,QAAQ,EAAE,MAAM,4BAA4B,CAAC;AACtD,OAAO,EAAE,SAAS,EAAE,MAAM,mCAAmC,CAAC;AAE9D,OAAO,EAAE,IAAI,EAAE,MAAM,aAAa,CAAC;AAGnC,IAAa,UAAU,GAAvB,MAAa,UAAW,SAAQ,UAAU;IAmDxC;QACE,KAAK,EAAE,CAAC;QAjBE,cAAS,GAAY,KAAK,CAAC;QAE3B,cAAS,GAAY,KAAK,CAAC;QAE3B,YAAO,GAAY,KAAK,CAAC;QAEzB,WAAM,GAAW,EAAE,CAAC;QAEpB,WAAM,GAAW,EAAE,CAAC;QAEpB,gBAAW,GAAW,CAAC,CAAC,CAAC;QASnC,WAAW;QACX,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IA1DD,MAAM,KAAK,MAAM;QACf,OAAO,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA8BT,CAAC;IACJ,CAAC;IA4BD,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,iBAAiB;QACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC;QACxD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC;QACpD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QAC/C,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SAClD;IACH,CAAC;IAEM,SAAS;QACd,OAAO;YACL,KAAK,EAAE,IAAI,CAAC,MAAM;YAClB,KAAK,EAAE,IAAI,CAAC,MAAM;YAClB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,QAAQ,EAAE,IAAI,CAAC,SAAS;YACxB,QAAQ,EAAE,IAAI,CAAC,SAAS;YACxB,MAAM,EAAE,IAAI,CAAC,OAAO;SACrB,CAAC;IACJ,CAAC;IAEM,MAAM;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;IACpC,CAAC;IAEM,QAAQ;QACb,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;IACnC,CAAC;IAEM,kBAAkB,CAAC,QAAkB,EAAE,KAAa;QACzD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IAEM,mBAAmB,CAAC,QAAkB;QAC3C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IAEO,YAAY;QAClB,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;YAC/B,OAAO;SACR;QACD,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;YAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SAChD;IACH,CAAC;IAEO,OAAO,CAAC,KAAY;QAC1B,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;YACpC,OAAO;SACR;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7B,CAAC;IAEO,cAAc,CAAC,KAAoB;QACzC,IAAI,KAAK,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,EAAE;YAC9B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SACrB;IACH,CAAC;IAED,MAAM;QACJ,MAAM,UAAU,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC9B,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC7B;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC7B;QACD,OAAO,IAAI,CAAA;;iBAEE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;iBACpB,IAAI,CAAC,OAAO;oBACT,IAAI,CAAC,cAAc;oBACnB,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;;mCAE5B,IAAI,CAAC,YAAY;UAC1C,IAAI,CAAC,MAAM;;KAEhB,CAAC;IACJ,CAAC;CACF,CAAA;AAlHa;IAAX,QAAQ,EAAE;6CAA4B;AAE3B;IAAX,QAAQ,EAAE;6CAA4B;AAE3B;IAAX,QAAQ,EAAE;2CAA0B;AAEzB;IAAX,QAAQ,EAAE;0CAAqB;AAEpB;IAAX,QAAQ,EAAE;0CAAqB;AAEpB;IAAX,QAAQ,EAAE;+CAA0B;AA7C1B,UAAU;IADtB,aAAa,CAAC,aAAa,CAAC;GAChB,UAAU,CAqJtB;SArJY,UAAU","sourcesContent":["import { css, LitElement, html } from \"lit\";\nimport { customElement } from \"lit/decorators/custom-element.js\";\nimport { property } from \"lit/decorators/property.js\";\nimport { ifDefined } from \"lit-html/directives/if-defined.js\";\n\nimport { KEYS } from \"./constants\";\n\n@customElement(\"option-pure\")\nexport class OptionPure extends LitElement {\n  static get styles() {\n    return css`\n      .option {\n        align-items: center;\n        background-color: var(--background-color, #fff);\n        box-sizing: border-box;\n        color: var(--color, #000);\n        cursor: pointer;\n        display: flex;\n        font-family: var(--font-family, inherit);\n        font-size: var(--font-size, 14px);\n        font-weight: var(--font-weight, 400);\n        height: var(--select-height, 44px);\n        height: var(--select-height, 44px);\n        justify-content: flex-start;\n        padding: var(--padding, 0 10px);\n        width: 100%;\n      }\n      .option:not(.disabled):focus, .option:not(.disabled):not(.selected):hover {\n        background-color: var(--hover-background-color, #e3e3e3);\n        color: var(--hover-color, #000);\n      }\n      .selected {\n        background-color: var(--selected-background-color, #e3e3e3);\n        color: var(--selected-color, #000);\n      }\n      .disabled {\n        background-color: var(--disabled-background-color, #e3e3e3);\n        color: var(--disabled-color, #000);\n        cursor: default;\n      }\n    `;\n  }\n\n  @property() _selected: boolean = false;\n\n  @property() _disabled: boolean = false;\n\n  @property() _hidden: boolean = false;\n\n  @property() _value: string = \"\";\n\n  @property() _label: string = \"\";\n\n  @property() optionIndex: number = -1;\n\n  private onSelect?: Function;\n\n  private onReady?: Function;\n\n  constructor() {\n    super();\n\n    // bindings\n    this.onClick = this.onClick.bind(this);\n    this.select = this.select.bind(this);\n    this.unselect = this.unselect.bind(this);\n    this.getOption = this.getOption.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // set properties\n    this._selected = this.getAttribute(\"selected\") !== null;\n    this._disabled = this.getAttribute(\"disabled\") !== null;\n    this._hidden = this.getAttribute(\"hidden\") !== null;\n    this._value = this.getAttribute(\"value\") || \"\";\n    this.processLabel();\n    if (this.onReady) {\n      this.onReady(this.getOption(), this.optionIndex);\n    }\n  }\n\n  public getOption() {\n    return {\n      label: this._label,\n      value: this._value,\n      select: this.select,\n      unselect: this.unselect,\n      selected: this._selected,\n      disabled: this._disabled,\n      hidden: this._hidden,\n    };\n  }\n\n  public select() {\n    this._selected = true;\n    this.setAttribute(\"selected\", \"\");\n  }\n\n  public unselect() {\n    this._selected = false;\n    this.removeAttribute(\"selected\");\n  }\n\n  public setOnReadyCallback(callback: Function, index: number) {\n    this.onReady = callback;\n    this.optionIndex = index;\n  }\n\n  public setOnSelectCallback(callback: Function) {\n    this.onSelect = callback;\n  }\n\n  private processLabel() {\n    if (this.textContent) {\n      this._label = this.textContent;\n      return;\n    }\n    if (this.getAttribute(\"label\")) {\n      this._label = this.getAttribute(\"label\") || \"\";\n    }\n  }\n\n  private onClick(event: Event) {\n    event.stopPropagation();\n    if (!this.onSelect || this._disabled) {\n      return;\n    }\n    this.onSelect(this._value);\n  }\n\n  private handleKeyPress(event: KeyboardEvent) {\n    if (event.which === KEYS.ENTER) {\n      this.onClick(event);\n    }\n  }\n\n  render() {\n    const classNames = [\"option\"];\n    if (this._selected) {\n      classNames.push(\"selected\");\n    }\n    if (this._disabled) {\n      classNames.push(\"disabled\");\n    }\n    return html`\n      <div\n        class=\"${classNames.join(\" \")}\"\n        @click=${this.onClick}\n        @keydown=\"${this.handleKeyPress}\"\n        tabindex=\"${ifDefined(this._disabled ? undefined : \"0\")}\"\n      >\n        <slot hidden @slotchange=${this.processLabel}></slot>\n        ${this._label}\n      </div>\n    `;\n  }\n}\n"]}